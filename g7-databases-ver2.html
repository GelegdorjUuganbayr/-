<!doctype html>
<html lang="mn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>2.3 Databases ‚Äî –î—ç–≤—Ç—ç—Ä—Ç —Ç”©–≤–ª”©—Ä—Å”©–Ω Interactive –•–∏—á—ç—ç–ª (”©—Ä–≥”©—Ç–≥”©—Å”©–Ω –æ–Ω–æ–ª)</title>
  <style>
    :root{
      --bg:#0b1220;
      --card:#0f1a2f;
      --text:#eaf1ff;
      --muted:#a9b7d0;
      --border:rgba(255,255,255,.14);
      --accent:#7dd3fc;
      --accent2:#34d399;
      --warn:#fbbf24;
      --bad:#fb7185;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: radial-gradient(1100px 700px at 20% 0%, #142040 0%, var(--bg) 55%);
      color:var(--text);
      line-height:1.5;
    }
    header{
      padding:18px 16px 8px;
      border-bottom:1px solid var(--border);
      background: linear-gradient(180deg, rgba(125,211,252,.12), transparent);
    }
    .wrap{ max-width:1100px; margin:0 auto; padding:16px; }
    .title{
      display:flex; gap:12px; align-items:flex-start; justify-content:space-between; flex-wrap:wrap;
    }
    h1{ margin:0; font-size:20px; letter-spacing:.2px; }
    .sub{ margin:6px 0 0; color:var(--muted); font-size:13px; max-width:78ch; }
    .pillrow{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
    .pill{
      font-size:12px; color:var(--muted);
      border:1px solid var(--border);
      padding:6px 10px; border-radius:999px;
      background: rgba(255,255,255,.04);
    }
    .grid{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap:14px;
      margin-top:14px;
    }
    @media (max-width: 920px){ .grid{ grid-template-columns: 1fr; } }
    .card{
      border:1px solid var(--border);
      background: rgba(15,26,47,.92);
      border-radius:16px;
      padding:14px;
      box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    .card h2{
      margin:0 0 10px;
      font-size:16px;
      color:var(--accent);
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }
    .card h3{ margin:14px 0 8px; font-size:14px; color:var(--accent2); }
    .muted{ color:var(--muted); }
    .mini{
      font-size:12.5px;
      color:var(--muted);
      border:1px dashed rgba(255,255,255,.2);
      padding:10px;
      border-radius:12px;
      background: rgba(0,0,0,.15);
    }
    .note{
      font-size:13px;
      padding:10px;
      border-radius:12px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.04);
    }
    .note strong{ color: var(--accent); }
    .dangerline{
      margin-top:8px;
      border-left:3px solid rgba(251,113,133,.55);
      padding:10px;
      color: #ffd3db;
      background: rgba(251,113,133,.06);
      border-radius:12px;
      font-size:13px;
    }
    .warnline{
      margin-top:8px;
      border-left:3px solid rgba(251,191,36,.55);
      padding:10px;
      color: #fff7d6;
      background: rgba(251,191,36,.06);
      border-radius:12px;
      font-size:13px;
    }
    .goodline{
      margin-top:8px;
      border-left:3px solid rgba(34,197,94,.55);
      padding:10px;
      color: #d8ffe8;
      background: rgba(34,197,94,.06);
      border-radius:12px;
      font-size:13px;
    }
    .row{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .btn{
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      color:var(--text);
      padding:10px 12px;
      border-radius:12px;
      cursor:pointer;
      font-weight:600;
      transition:.15s transform, .15s background;
      user-select:none;
    }
    .btn:hover{ background: rgba(255,255,255,.09); transform: translateY(-1px); }
    .btn:active{ transform: translateY(0); }
    .btn.primary{ border-color: rgba(125,211,252,.35); background: rgba(125,211,252,.12); }
    .btn.small{ padding:8px 10px; border-radius:10px; font-size:13px; }
    .kbd{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size:12px;
      padding:2px 6px;
      border-radius:8px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.05);
      white-space:nowrap;
    }
    details{
      border:1px solid var(--border);
      border-radius:14px;
      padding:10px 12px;
      background: rgba(255,255,255,.04);
      margin-top:10px;
    }
    details > summary{
      cursor:pointer;
      font-weight:700;
      list-style:none;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    details > summary::-webkit-details-marker { display:none; }
    .split{ display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
    @media (max-width: 680px){ .split{ grid-template-columns: 1fr; } }
    table{
      width:100%;
      border-collapse: collapse;
      overflow:hidden;
      border-radius:12px;
      border:1px solid var(--border);
      background: rgba(0,0,0,.12);
    }
    th, td{
      padding:10px;
      border-bottom:1px solid rgba(255,255,255,.08);
      font-size:13px;
      text-align:left;
      vertical-align:top;
    }
    th{
      font-size:12px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing:.06em;
      background: rgba(255,255,255,.03);
    }
    tr:last-child td{ border-bottom:none; }
    .tag{
      font-size:12px;
      padding:3px 8px;
      border-radius:999px;
      border:1px solid var(--border);
      color:var(--muted);
      background: rgba(255,255,255,.03);
      display:inline-block;
    }
    .hr{ height:1px; background: var(--border); margin:12px 0; }
    .inputs{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:8px;
    }
    @media (max-width: 520px){ .inputs{ grid-template-columns: 1fr; } }
    label{ font-size:12px; color:var(--muted); display:block; margin-bottom:6px; }
    input, select, textarea{
      width:100%;
      padding:10px;
      border-radius:12px;
      border:1px solid var(--border);
      background: rgba(0,0,0,.18);
      color: var(--text);
      outline: none;
    }
    textarea{ min-height:90px; resize: vertical; }
    .status{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; font-size:13px; color:var(--muted); }
    .dot{
      width:10px; height:10px; border-radius:50%;
      background: rgba(255,255,255,.25);
      border:1px solid rgba(255,255,255,.2);
    }
    .dot.good{ background: rgba(34,197,94,.65); border-color: rgba(34,197,94,.75); }
    .dot.bad{ background: rgba(251,113,133,.65); border-color: rgba(251,113,133,.75); }
    .dot.warn{ background: rgba(251,191,36,.65); border-color: rgba(251,191,36,.75); }
    .mono{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
      font-size:12px;
      white-space:pre-wrap;
      background: rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.12);
      border-radius:14px;
      padding:10px;
      color: #e7f1ff;
    }
    @media print{
      body{ background:#fff; color:#000; }
      header{ background:none; border-bottom:1px solid #ddd; }
      .card{ box-shadow:none; background:#fff; border:1px solid #ddd; }
      .btn{ display:none; }
      .mono{ background:#f7f7f7; color:#000; border:1px solid #ddd; }
      .pill, .tag{ border:1px solid #ddd; background:#f7f7f7; color:#333; }
      input, select, textarea{ border:1px solid #ccc; color:#000; background:#fff; }
      .dangerline,.warnline,.goodline{ border-left-color:#999; background:#f7f7f7; color:#000; }
      details{ border:1px solid #ddd; background:#fff; }
    }
  </style>
</head>
<body>
<header>
  <div class="wrap">
    <div class="title">
      <div>
        <h1>2.3 Databases ‚Äî Interactive (”©—Ä–≥”©—Ç–≥”©—Å”©–Ω –æ–Ω–æ–ª + –¥—ç–≤—Ç—ç—Ä + simulator)</h1>
        <p class="sub">
          –≠–Ω—ç —Ö—É–≤–∏–ª–±–∞—Ä –¥—ç—ç—Ä <b>datatype</b>-–∏–π–≥ —ç—Ö–ª—ç—ç–¥ –º–∞—à –æ–π–ª–≥–æ–º–∂—Ç–æ–π —Ç–∞–π–ª–±–∞—Ä–ª–∞–∞–¥, —Ç—ç–≥—ç—ç–¥ –ª –¥–∞—Å–≥–∞–ª –∞—Å—É—É–∂ –±–∞–π–Ω–∞.
          –ú”©–Ω ‚Äú—Ö—ç—Ç –∏—Ö hint‚Äù ”©–≥”©—Ö”©”©—Å –∑–∞–π–ª—Å—Ö–∏–π–∂, <span class="kbd">”®”©—Ä–∏–π–≥”©”© —à–∞–ª–≥–∞—Ö</span> —Ö—ç—Å–≥–∏–π–≥ –Ω—É—É–≥–¥–º–∞–ª –±–∞–π–ª–≥–∞—Å–∞–Ω.
        </p>
        <div class="pillrow">
          <span class="pill">Field = –±–∞–≥–∞–Ω–∞</span>
          <span class="pill">Record = –º”©—Ä</span>
          <span class="pill">Data type = —Ç”©—Ä–ª–∏–π–Ω –¥“Ø—Ä—ç–º</span>
          <span class="pill">Primary key = –¥–∞–≤—Ç–∞–≥–¥–∞—à–≥“Ø–π</span>
          <span class="pill">Query = —à“Ø“Ø–ª—Ç/—Ö–∞–π–ª—Ç</span>
        </div>
      </div>
      <div class="row">
        <button class="btn primary" id="btnPrint">üñ®Ô∏è –•—ç–≤–ª—ç—Ö</button>
        <button class="btn" id="btnReset">‚Ü©Ô∏è Reset</button>
      </div>
    </div>
  </div>
</header>

<div class="wrap">
  <div class="grid">
    <!-- LEFT: THEORY + NOTEBOOK -->
    <section class="card">
      <h2>1) –û–Ω–æ–ª (–æ–π–ª–≥–æ–º–∂—Ç–æ–π, –∂–∏—à—ç—ç—Ç—ç–π) <span class="tag">Read ‚Üí Write</span></h2>

      <div class="note">
        <strong>Database</strong> –±–æ–ª –Ω—ç–≥ —Ç”©—Ä–ª–∏–π–Ω –º—ç–¥—ç—ç–ª–ª–∏–π–≥ —Ö“Ø—Å–Ω—ç–≥—Ç —Ö—ç–ª–±—ç—Ä—ç—ç—Ä —Ö–∞–¥–≥–∞–ª—Å–∞–Ω –∑“Ø–π–ª.
        –•“Ø—Å–Ω—ç–≥—Ç –Ω—å:
        <ul>
          <li><b>Field (Column / –ë–∞–≥–∞–Ω–∞)</b>: –Ω—ç–≥ —Ç”©—Ä–ª–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª. –ñ–∏—à—ç—ç: ‚ÄúAge‚Äù –±–∞–≥–∞–Ω–∞–¥ –∑”©–≤—Ö”©–Ω –Ω–∞—Å.</li>
          <li><b>Record (Row / –ú”©—Ä)</b>: –Ω—ç–≥ —Ö“Ø–Ω–∏–π/–Ω—ç–≥ —Ç–æ–≥–ª–æ–æ–º—ã–Ω –±“Ø—Ç—ç–Ω –º—ç–¥—ç—ç–ª—ç–ª. –ñ–∏—à—ç—ç: ‚ÄúBat + 12 + UB‚Äù.</li>
        </ul>
      </div>

      <h3>1.1 Data type –≥—ç–∂ —é—É –≤—ç?</h3>
      <div class="note">
        <strong>Data type</strong> = ‚Äú—ç–Ω—ç –±–∞–≥–∞–Ω–∞–¥ —è–º–∞—Ä —Ç”©—Ä–ª–∏–π–Ω –∑“Ø–π–ª –±–∏—á–∏—Ö –≤—ç?‚Äù –≥—ç—Å—ç–Ω –¥“Ø—Ä—ç–º.
        –ñ–∏—à—ç—ç –Ω—å:
        <ul>
          <li><b>Number (—Ç–æ–æ–Ω —Ç”©—Ä”©–ª)</b>: 3, 12, 150 –≥—ç—Ö –º—ç—Ç. –¢–æ–æ—Ü–æ–æ/—Ö–∞—Ä—å—Ü—É—É–ª–∞–ª—Ç —Ö–∏–π–∂ –±–æ–ª–Ω–æ (<span class="kbd">&gt;</span> <span class="kbd">&lt;</span>).</li>
          <li><b>Text (“Ø—Å—ç–≥/—Ç–µ–∫—Å—Ç)</b>: ‚Äúpuzzle‚Äù, ‚ÄúUB‚Äù, ‚ÄúBill &amp; Betty‚Äù –≥—ç—Ö –º—ç—Ç.</li>
        </ul>
        <div class="warnline">
          –Ø–∞–≥–∞–∞–¥ type —Ö—ç—Ä—ç–≥—Ç—ç–π –≤—ç?<br>
          –•—ç—Ä–≤—ç—ç Age —Ç–∞–ª–±–∞—Ä—Ç ‚Äútwelve‚Äù –≥—ç–∂ –±–∏—á—ç—ç–¥ –±–∞–π–≤–∞–ª <span class="kbd">Age &gt; 10</span> –≥—ç—Ö query –±—É—Ä—É—É –∞–∂–∏–ª–ª–∞–Ω–∞.
        </div>
      </div>

      <div class="split">
        <div>
          <table aria-label="Datatype examples">
            <thead><tr><th>Field</th><th>–ó”©–≤ —Ç”©—Ä”©–ª</th><th>–ñ–∏—à—ç—ç</th></tr></thead>
            <tbody>
              <tr><td>Age</td><td>Number</td><td>12</td></tr>
              <tr><td>Height</td><td>Number</td><td>1.45</td></tr>
              <tr><td>Game name</td><td>Text</td><td>Work It Out</td></tr>
              <tr><td>Genre</td><td>Text</td><td>puzzle</td></tr>
              <tr><td>Player number</td><td>Number</td><td>5</td></tr>
            </tbody>
          </table>
        </div>
        <div class="mini">
          <b>–°–∞–Ω–∞–º–∂:</b><br>
          ‚Ä¢ ‚ÄúNumber‚Äù –±–æ–ª —Ç–æ–æ —É—á—Ä–∞–∞—Å <span class="kbd">&gt; &lt; =</span> –∞—à–∏–≥–ª–∞–∞–¥ —Ö–∞–π–∂ –±–æ–ª–Ω–æ.<br>
          ‚Ä¢ ‚ÄúText‚Äù –¥—ç—ç—Ä –±–∞—Å <span class="kbd">&gt; &lt;</span> –∞—à–∏–≥–ª–∞–∂ –±–æ–ª–Ω–æ (“Ø—Å–≥–∏–π–Ω –¥–∞—Ä–∞–∞–ª–∞–ª: A‚ÜíZ).<br>
          ‚Ä¢ Phrase search —Ö–∏–π—Ö “Ø–µ–¥ –∏—Ö—ç–Ω—Ö DB –¥—ç—ç—Ä <span class="kbd">" "</span> —Ö—ç—Ä—ç–≥—Ç—ç–π: Genre="puzzle".
        </div>
      </div>

      <h3>–î—ç–≤—Ç—ç—Ä–∏–π–Ω –¥–∞—Å–≥–∞–ª A ‚Äî Data type —Å–æ–Ω–≥–æ—Ö</h3>
      <p class="muted">–î–æ–æ—Ä—Ö field –±“Ø—Ä—Ç ‚ÄúNumber‚Äù —ç—Å–≤—ç–ª ‚ÄúText‚Äù –≥—ç–∂ –±–∏—á.</p>
      <ol>
        <li>Name</li>
        <li>Age</li>
        <li>Eye colour</li>
        <li>Number of pets</li>
        <li>Game name</li>
        <li>Age rating</li>
      </ol>

      <details>
        <summary>”®”©—Ä–∏–π–≥”©”© —à–∞–ª–≥–∞—Ö <span class="kbd">open</span></summary>
        <div class="goodline">
          Name=Text, Age=Number, Eye colour=Text, Number of pets=Number, Game name=Text, Age rating=Number.
        </div>
      </details>

      <h3>1.2 Primary key –≥—ç–∂ —é—É –≤—ç?</h3>
      <div class="note">
        <strong>Primary key</strong> = record –±“Ø—Ä–∏–π–≥ —è–ª–≥–∞—Ö <b>–¥–∞–≤—Ç–∞–≥–¥–∞—à–≥“Ø–π</b> —É—Ç–≥–∞.
        –ñ–∏—à—ç—ç: StudentID, GameCode, PlayerNumber.
        <div class="dangerline">
          Primary key –¥–∞–≤—Ç–∞–≥–¥–≤–∞–ª —Ö–æ—ë—Ä ”©”©—Ä record-–∏–π–≥ —è–ª–≥–∞–∂ —á–∞–¥–∞—Ö–≥“Ø–π ‚Üí database –±—É—Ä—É—É –±–æ–ª–Ω–æ.
        </div>
      </div>

      <h3>–î—ç–≤—Ç—ç—Ä–∏–π–Ω –¥–∞—Å–≥–∞–ª B ‚Äî Field / Record</h3>
      <table aria-label="Exercise Field Record">
        <thead><tr><th>Name</th><th>Age</th><th>City</th></tr></thead>
        <tbody>
          <tr><td>Bat</td><td>12</td><td>UB</td></tr>
          <tr><td>Sara</td><td>13</td><td>Darkhan</td></tr>
          <tr><td>Tom</td><td>12</td><td>UB</td></tr>
        </tbody>
      </table>
      <ol>
        <li>–ù—ç–≥ field –Ω—ç—Ä–ª—ç.</li>
        <li>–ù—ç–≥ record –Ω—ç—Ä–ª—ç.</li>
      </ol>

      <details>
        <summary>”®”©—Ä–∏–π–≥”©”© —à–∞–ª–≥–∞—Ö <span class="kbd">open</span></summary>
        <div class="goodline">Field –∂–∏—à—ç—ç: Name. Record –∂–∏—à—ç—ç: ‚ÄúSara, 13, Darkhan‚Äù.</div>
      </details>

      <h3>1.3 Query –≥—ç–∂ —é—É –≤—ç?</h3>
      <div class="note">
        <strong>Query</strong> = ‚Äú—è–º–∞—Ä record-—É—É–¥—ã–≥ –≥–∞—Ä–≥–∞–∂ –∏—Ä—ç—Ö –≤—ç?‚Äù –≥—ç—Å—ç–Ω —Ö–∞–π–ª—Ç—ã–Ω –¥“Ø—Ä—ç–º.
        <ul>
          <li><b>Number query:</b> Age &gt; 10</li>
          <li><b>Text query:</b> Genre = "puzzle"</li>
          <li><b>Text (“Ø—Å–≥–∏–π–Ω –¥–∞—Ä–∞–∞–ª–∞–ª):</b> Name &lt; "D" ‚Üí D-—ç—ç—Å ”©–º–Ω”©—Ö “Ø—Å–≥—ç—ç—Ä —ç—Ö—ç–ª—Å—ç–Ω –Ω—ç—Ä—Å</li>
        </ul>
      </div>

      <h3>–î—ç–≤—Ç—ç—Ä–∏–π–Ω –¥–∞—Å–≥–∞–ª C ‚Äî Query –±–æ–¥–æ–æ–¥ ‚Äú“Ø—Ä –¥“Ø–Ω–≥‚Äù –±–∏—á</h3>
      <table aria-label="Exercise Query">
        <thead><tr><th>Name</th><th>Age</th></tr></thead>
        <tbody>
          <tr><td>Bat</td><td>10</td></tr>
          <tr><td>Sara</td><td>15</td></tr>
          <tr><td>Tom</td><td>12</td></tr>
        </tbody>
      </table>
      <ol>
        <li><span class="kbd">Age &gt; 11</span> ‚Üí —è–º–∞—Ä –º”©—Ä“Ø“Ø–¥?</li>
        <li><span class="kbd">Age = 10</span> ‚Üí —è–º–∞—Ä –º”©—Ä?</li>
        <li><span class="kbd">Name &lt; "T"</span> ‚Üí —è–º–∞—Ä –º”©—Ä“Ø“Ø–¥?</li>
      </ol>

      <details>
        <summary>”®”©—Ä–∏–π–≥”©”© —à–∞–ª–≥–∞—Ö <span class="kbd">open</span></summary>
        <div class="goodline">
          Age&gt;11 ‚Üí Sara, Tom. Age=10 ‚Üí Bat. Name&lt;"T" ‚Üí Bat, Sara (T-—ç—ç—Å ”©–º–Ω”©).
        </div>
      </details>

      <h3>–î—ç–≤—Ç—ç—Ä–∏–π–Ω –¥–∞—Å–≥–∞–ª D ‚Äî Computer games –¥—ç—ç—Ä phrase search</h3>
      <table aria-label="Computer Games">
        <thead><tr><th>Game name</th><th>Age rating</th><th>Genre</th></tr></thead>
        <tbody>
          <tr><td>Bill &amp; Betty</td><td>12</td><td>2D platform</td></tr>
          <tr><td>Build Blocks</td><td>3</td><td>arcade</td></tr>
          <tr><td>Ping Pong</td><td>3</td><td>arcade</td></tr>
          <tr><td>Puzzle Place</td><td>8</td><td>puzzle</td></tr>
          <tr><td>Super Adventurer</td><td>12</td><td>2D platform</td></tr>
          <tr><td>Blocks Super Build</td><td>3</td><td>puzzle</td></tr>
          <tr><td>The Great Race</td><td>3</td><td>racing</td></tr>
          <tr><td>Work It Out</td><td>8</td><td>puzzle</td></tr>
        </tbody>
      </table>
      <ol>
        <li>‚Äúpuzzle‚Äù —Ç”©—Ä–ª–∏–π–≥ —Ö–∞–π—Ö query-–≥ —Ü–∞–∞—Å–∞–Ω –¥—ç—ç—Ä—ç—ç –±–∏—á. (Field + criteria)</li>
        <li><span class="kbd">"Work It Out"</span> ‚Üí —è–º–∞—Ä record?</li>
        <li><span class="kbd">"Super"</span> ‚Üí —è–º–∞—Ä record-—É—É–¥?</li>
      </ol>

      <details>
        <summary>”®”©—Ä–∏–π–≥”©”© —à–∞–ª–≥–∞—Ö <span class="kbd">open</span></summary>
        <div class="goodline">
          Puzzle query: Genre = "puzzle".<br>
          "Work It Out" ‚Üí Work It Out –º”©—Ä.<br>
          "Super" ‚Üí Super Adventurer, Blocks Super Build.
        </div>
      </details>

      <h3>Challenge (hint–≥“Ø–π)</h3>
      <ol>
        <li>Age –Ω—å 5-–∞–∞—Å –¥–æ–æ—à —Ç–æ–≥–ª–æ–æ–º—ã–Ω query –±–∏—á.</li>
        <li>Game name –Ω—å A, B, C-—ç—ç—Ä —ç—Ö—ç–ª—Å—ç–Ω —Ç–æ–≥–ª–æ–æ–º—ã–Ω query –±–∏—á.</li>
      </ol>
    </section>

    <!-- RIGHT: SIMULATOR -->
    <aside class="card" id="sim">
      <h2>2) Mini Database Simulator <span class="tag">Try after notebook</span></h2>
      <div class="mini">
        –≠–Ω–¥ –∑”©–≤—Ö”©–Ω —Ç—É—Ä—à–∏–∂ —à–∞–ª–≥–∞–Ω–∞. –≠—Ö–ª—ç—ç–¥ <b>–¥—ç–≤—Ç—ç—Ä –¥—ç—ç—Ä—ç—ç –±–æ–¥</b> ‚Üí –¥–∞—Ä–∞–∞ –Ω—å —ç–Ω–¥ run —Ö–∏–π.
      </div>

      <div class="hr"></div>

      <div class="row">
        <button class="btn primary small" id="loadGames">üéÆ Computer games ”©–≥”©–≥–¥”©–ª</button>
        <button class="btn small" id="loadZoo">ü¶í Zoo template</button>
        <button class="btn small" id="clearAll">üßπ –¶—ç–≤—ç—Ä–ª—ç—Ö</button>
      </div>

      <h3>2.1 Table –±“Ø—Ç—ç—Ü</h3>
      <div class="inputs">
        <div>
          <label>Fields (—Ç–∞—Å–ª–∞–ª–∞–∞—Ä —Å–∞–ª–≥–∞)</label>
          <input id="fieldsInput" value="Game name,Age,Genre" />
        </div>
        <div>
          <label>Primary key field</label>
          <select id="pkSelect"></select>
        </div>
      </div>

      <div class="row" style="margin-top:10px;">
        <button class="btn primary small" id="applyFields">‚úÖ Structure apply</button>
        <button class="btn small" id="checkPK">üîë PK –¥–∞–≤—Ö–∞—Ä–¥–∞–ª —à–∞–ª–≥–∞—Ö</button>
      </div>

      <div class="status" style="margin-top:10px;">
        <span class="dot" id="pkDot"></span>
        <span id="pkStatus" class="muted">PK status: (structure apply —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ —à–∞–ª–≥–∞–∞—Ä–∞–π)</span>
      </div>

      <h3>2.2 Record –Ω—ç–º—ç—Ö</h3>
      <div id="addRowArea"></div>
      <div class="row" style="margin-top:10px;">
        <button class="btn primary small" id="addRecordBtn">‚ûï Add record</button>
        <button class="btn small" id="deleteLastBtn">üóëÔ∏è –°“Ø“Ø–ª–∏–π–Ω –º”©—Ä —É—Å—Ç–≥–∞—Ö</button>
      </div>

      <h3>2.3 Query</h3>
      <div class="inputs">
        <div>
          <label>Field</label>
          <select id="qField"></select>
        </div>
        <div>
          <label>Operator</label>
          <select id="qOp">
            <option value="=">=</option>
            <option value=">">&gt;</option>
            <option value="<">&lt;</option>
            <option value="contains">contains (text)</option>
            <option value="starts">starts with (text)</option>
          </select>
        </div>
      </div>
      <div class="inputs">
        <div style="grid-column:1/-1">
          <label>Value</label>
          <input id="qVal" placeholder="–ñ–∏—à—ç—ç: 10 | puzzle | Super" />
        </div>
      </div>

      <div class="row" style="margin-top:10px;">
        <button class="btn primary small" id="runQuery">‚ñ∂Ô∏è Run query</button>
        <button class="btn small" id="resetQuery">‚Ü©Ô∏è Reset query</button>
      </div>

      <div class="hr"></div>

      <h3>“Æ—Ä –¥“Ø–Ω</h3>
      <div class="status">
        <span class="tag" id="countTag">0 record</span>
        <span class="muted" id="lastQueryText">Query: (run —Ö–∏–π—ç—ç–≥“Ø–π)</span>
      </div>

      <div style="margin-top:10px;">
        <table id="dataTable" aria-label="Data table"></table>
      </div>

      <h3 style="margin-top:14px;">–¶–∞–∞—Å–∞–Ω –¥—ç—ç—Ä –±–∏—á–∏—Ö —Ö—ç–ª–±—ç—Ä</h3>
      <div class="mono" id="paperQuery">Age > 10</div>

      <details>
        <summary>–ñ–∏–∂–∏–≥ —Å–∞–Ω–∞–º–∂ (—Ö—ç—Ç hint –±–∏—à) <span class="kbd">open</span></summary>
        <div class="warnline">
          Access –¥—ç—ç—Ä Text query —Ö–∏–π—Ö–¥—ç—ç –∏—Ö—ç–≤—á–ª—ç–Ω <b>" "</b> —Ö—ç—Ä—ç–≥–ª—ç–Ω—ç: Genre = "puzzle".<br>
          Simulator –¥—ç—ç—Ä —Ö–∞—Ä–∏–Ω text –≥—ç–¥–≥–∏–π–≥ –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä –æ–π–ª–≥–æ–Ω–æ.
        </div>
      </details>
    </aside>
  </div>

  <section class="card" style="margin-top:14px;">
    <h2>3) –ë–∏–µ –¥–∞–∞–ª—Ç (–¥—ç–≤—Ç—ç—Ä –¥—ç—ç—Ä) <span class="tag">10 record</span></h2>
    <ol>
      <li>Fields: <b>ID, Name, Age, Height, Eye colour, Pets</b> –≥—ç–∂ —Ö“Ø—Å–Ω—ç–≥—Ç –∑—É—Ä.</li>
      <li>10 record ”©”©—Ä”©”© –∑–æ—Ö–∏–æ–∂ –±”©–≥–ª”©.</li>
      <li>Primary key-–≥ —Å–æ–Ω–≥–æ (–∏—Ö—ç–≤—á–ª—ç–Ω ID).</li>
      <li>–î–æ–æ—Ä—Ö query-“Ø“Ø–¥–∏–π–≥ —Ü–∞–∞—Å–∞–Ω –¥—ç—ç—Ä –±–∏—á—ç—ç–¥ —è–º–∞—Ä record –≥–∞—Ä–∞—Ö—ã–≥ —Ç—ç–º–¥—ç–≥–ª—ç:
        <ul>
          <li>Age &gt; 11</li>
          <li>Height &lt;= 1.45</li>
          <li>Eye colour &lt; "D" (A‚ÄìC)</li>
          <li>Pets &gt;= 2</li>
          <li>Pets = 0</li>
        </ul>
      </li>
    </ol>
  </section>
</div>

<script>
(() => {
  const $ = (id) => document.getElementById(id);

  const btnPrint = $("btnPrint");
  const btnReset = $("btnReset");

  const fieldsInput = $("fieldsInput");
  const pkSelect = $("pkSelect");
  const pkDot = $("pkDot");
  const pkStatus = $("pkStatus");

  const addRowArea = $("addRowArea");
  const addRecordBtn = $("addRecordBtn");
  const deleteLastBtn = $("deleteLastBtn");

  const qField = $("qField");
  const qOp = $("qOp");
  const qVal = $("qVal");
  const runQuery = $("runQuery");
  const resetQuery = $("resetQuery");

  const applyFields = $("applyFields");
  const checkPK = $("checkPK");
  const dataTable = $("dataTable");
  const countTag = $("countTag");
  const lastQueryText = $("lastQueryText");
  const paperQuery = $("paperQuery");

  const loadGames = $("loadGames");
  const loadZoo = $("loadZoo");
  const clearAll = $("clearAll");

  // State
  let fields = ["Game name","Age","Genre"];
  let primaryKey = "Game name";
  let rows = [];
  let lastFiltered = null;

  const sampleGames = [
    {"Game name":"Bill & Betty","Age":12,"Genre":"2D platform"},
    {"Game name":"Build Blocks","Age":3,"Genre":"arcade"},
    {"Game name":"Ping Pong","Age":3,"Genre":"arcade"},
    {"Game name":"Puzzle Place","Age":8,"Genre":"puzzle"},
    {"Game name":"Super Adventurer","Age":12,"Genre":"2D platform"},
    {"Game name":"Blocks Super Build","Age":3,"Genre":"puzzle"},
    {"Game name":"The Great Race","Age":3,"Genre":"racing"},
    {"Game name":"Work It Out","Age":8,"Genre":"puzzle"},
  ];

  const zooTemplate = {
    fields: ["Animal","Name","Age","Gender","Food","AnimalID"],
    pk: "AnimalID",
    rows: [
      {Animal:"giraffe", Name:"Aaliyah", Age:17, Gender:"F", Food:"leaves", AnimalID:1},
      {Animal:"monkey", Name:"Abu", Age:12, Gender:"F", Food:"fruit", AnimalID:2},
      {Animal:"giant panda", Name:"Bai Yun", Age:8, Gender:"F", Food:"bamboo", AnimalID:3},
    ]
  };

  function parseFields(str){
    return str.split(",").map(s => s.trim()).filter(Boolean);
  }

  function setPKStatus(type, text){
    pkDot.classList.remove("good","bad","warn");
    if(type) pkDot.classList.add(type);
    pkStatus.textContent = text;
  }

  function buildPkSelect(){
    pkSelect.innerHTML = "";
    fields.forEach(f => {
      const opt = document.createElement("option");
      opt.value = f;
      opt.textContent = f;
      pkSelect.appendChild(opt);
    });
    if(fields.includes(primaryKey)) pkSelect.value = primaryKey;
    else {
      primaryKey = fields[0] || "";
      pkSelect.value = primaryKey;
    }
  }

  function buildQueryFieldSelect(){
    qField.innerHTML = "";
    fields.forEach(f => {
      const opt = document.createElement("option");
      opt.value = f;
      opt.textContent = f;
      qField.appendChild(opt);
    });
    qField.value = fields[0] || "";
  }

  function buildAddRowInputs(){
    addRowArea.innerHTML = "";
    const grid = document.createElement("div");
    grid.className = "inputs";
    fields.forEach(f => {
      const box = document.createElement("div");
      const lab = document.createElement("label");
      lab.textContent = f + " (record field)";
      const inp = document.createElement("input");
      inp.id = "add_" + f;
      inp.placeholder = (f.toLowerCase().includes("age") || f.toLowerCase().includes("id") || f.toLowerCase().includes("height") || f.toLowerCase().includes("pets"))
        ? "–ñ–∏—à—ç—ç: 10"
        : "–ñ–∏—à—ç—ç: puzzle";
      box.appendChild(lab);
      box.appendChild(inp);
      grid.appendChild(box);
    });
    addRowArea.appendChild(grid);
  }

  function normalizeValue(v){
    const trimmed = (v ?? "").toString().trim();
    if(trimmed === "") return "";
    if(/^-?\d+(\.\d+)?$/.test(trimmed)) return Number(trimmed);
    return trimmed;
  }

  function escapeHtml(s){
    return s.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;")
            .replaceAll('"',"&quot;").replaceAll("'","&#39;");
  }

  function renderTable(showRows){
    const data = showRows ?? rows;
    let html = "<thead><tr>";
    fields.forEach(f => html += `<th>${escapeHtml(f)}</th>`);
    html += "</tr></thead><tbody>";
    data.forEach(r => {
      html += "<tr>";
      fields.forEach(f => {
        const val = (r[f] === undefined || r[f] === null) ? "" : r[f];
        html += `<td>${escapeHtml(String(val))}</td>`;
      });
      html += "</tr>";
    });
    html += "</tbody>";
    dataTable.innerHTML = html;
    countTag.textContent = `${data.length} record`;
  }

  function checkPrimaryKeyUniqueness(){
    if(!primaryKey){
      setPKStatus("warn", "PK status: Primary key —Å–æ–Ω–≥–æ–æ–≥“Ø–π –±–∞–π–Ω–∞.");
      return false;
    }
    const seen = new Set();
    for(const r of rows){
      const key = r[primaryKey];
      const k = (key === undefined || key === null) ? "" : String(key);
      if(seen.has(k)){
        setPKStatus("bad", `PK status: ‚ùå –î–∞–≤—Ö–∞—Ä–¥–∞–ª –±–∞–π–Ω–∞ (${primaryKey}).`);
        return false;
      }
      seen.add(k);
    }
    if(rows.length === 0){
      setPKStatus("warn", "PK status: Record –±–∞–π—Ö–≥“Ø–π (—Ç“Ø—Ä OK).");
      return true;
    }
    setPKStatus("good", `PK status: ‚úÖ –î–∞–≤—Ö–∞—Ä–¥–∞–ª –∞–ª–≥–∞ (${primaryKey}).`);
    return true;
  }

  function paperQueryText(field, op, val){
    const isNum = (typeof val === "number" && !Number.isNaN(val));
    if(op === "contains") return `${field} contains "${String(val)}"`;
    if(op === "starts") return `${field} starts with "${String(val)}"`;
    return isNum ? `${field} ${op} ${String(val)}` : `${field} ${op} "${String(val)}"`;
  }

  function runFilter(){
    const field = qField.value;
    const op = qOp.value;
    const raw = qVal.value.trim();
    const val = normalizeValue(raw);

    if(!field || raw === ""){
      lastFiltered = rows.slice();
      lastQueryText.textContent = "Query: (—Ö–æ–æ—Å–æ–Ω) ‚Äî –±“Ø—Ö record";
      paperQuery.textContent = "(—Ö–æ–æ—Å–æ–Ω) ‚Äî –±“Ø—Ö record";
      renderTable(lastFiltered);
      return;
    }

    let filtered = rows.slice();

    if(op === "="){
      filtered = filtered.filter(r => {
        const a = r[field];
        if(typeof val === "number") return Number(a) === val;
        return String(a ?? "") === String(val);
      });
    } else if(op === ">" || op === "<"){
      filtered = filtered.filter(r => {
        const a = r[field];
        const aNum = Number(a);
        const vNum = Number(val);
        const aIsNum = (typeof a === "number") || (!Number.isNaN(aNum) && String(a).trim() !== "");
        const vIsNum = (typeof val === "number") || (!Number.isNaN(vNum) && String(val).trim() !== "");

        if(aIsNum && vIsNum){
          return op === ">" ? (aNum > vNum) : (aNum < vNum);
        }
        const aStr = String(a ?? "");
        const vStr = String(val ?? "");
        return op === ">" ? (aStr.localeCompare(vStr) > 0) : (aStr.localeCompare(vStr) < 0);
      });
    } else if(op === "contains"){
      filtered = filtered.filter(r => String(r[field] ?? "").toLowerCase().includes(String(val).toLowerCase()));
    } else if(op === "starts"){
      filtered = filtered.filter(r => String(r[field] ?? "").toLowerCase().startsWith(String(val).toLowerCase()));
    }

    lastFiltered = filtered;
    lastQueryText.textContent = `Query: ${field} ${op} ${raw}`;
    paperQuery.textContent = paperQueryText(field, op, val);
    renderTable(filtered);
  }

  // buttons
  btnPrint.addEventListener("click", () => window.print());

  btnReset.addEventListener("click", () => {
    fieldsInput.value = "Game name,Age,Genre";
    fields = parseFields(fieldsInput.value);
    primaryKey = "Game name";
    rows = [];
    lastFiltered = null;

    buildPkSelect();
    buildQueryFieldSelect();
    buildAddRowInputs();

    qOp.value = "=";
    qVal.value = "";
    setPKStatus(null, "PK status: (structure apply —Ö–∏–π—Å–Ω–∏–π –¥–∞—Ä–∞–∞ —à–∞–ª–≥–∞–∞—Ä–∞–π)");
    lastQueryText.textContent = "Query: (run —Ö–∏–π—ç—ç–≥“Ø–π)";
    paperQuery.textContent = "Age > 10";
    renderTable([]);
  });

  applyFields.addEventListener("click", () => {
    const f = parseFields(fieldsInput.value);
    if(f.length === 0){ alert("Fields —Ö–æ–æ—Å–æ–Ω –±–∞–π–∂ –±–æ–ª–æ—Ö–≥“Ø–π."); return; }
    fields = f;
    rows = rows.map(r => {
      const nr = {};
      fields.forEach(k => nr[k] = r[k] ?? "");
      return nr;
    });
    primaryKey = fields.includes(pkSelect.value) ? pkSelect.value : fields[0];
    buildPkSelect();
    buildQueryFieldSelect();
    buildAddRowInputs();
    setPKStatus("warn", "PK status: Structure —à–∏–Ω—ç—á–ª—ç–≥–¥–ª—ç—ç. –û–¥–æ–æ PK —à–∞–ª–≥–∞.");
    renderTable(lastFiltered ?? rows);
  });

  pkSelect.addEventListener("change", () => {
    primaryKey = pkSelect.value;
    setPKStatus("warn", `PK status: –°–æ–Ω–≥–æ—Å–æ–Ω PK = ${primaryKey}. –®–∞–ª–≥–∞–∞—Ä–∞–π.`);
  });

  checkPK.addEventListener("click", () => checkPrimaryKeyUniqueness());

  addRecordBtn.addEventListener("click", () => {
    const r = {};
    fields.forEach(f => r[f] = normalizeValue($("add_" + f).value));
    rows.push(r);
    fields.forEach(f => $("add_" + f).value = "");
    renderTable(lastFiltered ?? rows);
    setPKStatus("warn", "PK status: Record –Ω—ç–º—ç–≥–¥–ª—ç—ç. –•—ç—Ä–≤—ç—ç —Ö“Ø—Å–≤—ç–ª PK —à–∞–ª–≥–∞.");
  });

  deleteLastBtn.addEventListener("click", () => {
    rows.pop();
    renderTable(lastFiltered ?? rows);
    setPKStatus("warn", "PK status: –°“Ø“Ø–ª–∏–π–Ω record —É—Å—Ç–ª–∞–∞.");
  });

  runQuery.addEventListener("click", () => runFilter());

  resetQuery.addEventListener("click", () => {
    qOp.value = "=";
    qVal.value = "";
    lastFiltered = null;
    lastQueryText.textContent = "Query: (reset) ‚Äî –±“Ø—Ö record";
    paperQuery.textContent = "Age > 10";
    renderTable(rows);
  });

  clearAll.addEventListener("click", () => {
    rows = [];
    lastFiltered = null;
    renderTable([]);
    setPKStatus("warn", "PK status: –ë“Ø—Ö record —Ü—ç–≤—ç—Ä–ª—ç–≥–¥–ª—ç—ç.");
    lastQueryText.textContent = "Query: (none)";
  });

  loadGames.addEventListener("click", () => {
    fieldsInput.value = "Game name,Age,Genre";
    fields = parseFields(fieldsInput.value);
    primaryKey = "Game name";
    rows = sampleGames.map(x => ({...x}));
    buildPkSelect();
    buildQueryFieldSelect();
    buildAddRowInputs();
    renderTable(rows);
    setPKStatus("warn", "PK status: ”®–≥”©–≥–¥”©–ª –∞—á–∞–∞–ª–ª–∞–∞. –û–¥–æ–æ PK —à–∞–ª–≥–∞–∞–¥, –¥–∞—Ä–∞–∞ –Ω—å query —Ç—É—Ä—à.");
    lastQueryText.textContent = "Query: (none)";
  });

  loadZoo.addEventListener("click", () => {
    fieldsInput.value = zooTemplate.fields.join(", ");
    fields = [...zooTemplate.fields];
    primaryKey = zooTemplate.pk;
    rows = zooTemplate.rows.map(x => ({...x}));
    buildPkSelect();
    buildQueryFieldSelect();
    buildAddRowInputs();
    renderTable(rows);
    setPKStatus("warn", "PK status: Zoo template –∞—á–∞–∞–ª–ª–∞–∞. AnimalID –¥–∞–≤—Ç–∞–≥–¥–∞—Ö–≥“Ø–π –±–∞–π—Ö —ë—Å—Ç–æ–π.");
    lastQueryText.textContent = "Query: (none)";
  });

  // init
  fields = parseFields(fieldsInput.value);
  buildPkSelect();
  buildQueryFieldSelect();
  buildAddRowInputs();
  renderTable([]);
})();
</script>
</body>
</html>